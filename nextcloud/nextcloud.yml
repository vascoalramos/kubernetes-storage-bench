image:
  repository: nextcloud
  tag: stable-apache
  pullPolicy: IfNotPresent


nameOverride: ""
fullnameOverride: ""


replicaCount: 1


nextcloud:
  host: 192.168.112.74
  # host: 34.105.73.251
  username: admin
  password: admin
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0


internalDatabase:
  enabled: false


mariadb:
  enabled: true
  db:
    name: nextcloud
    user: nextcloud
    password: passw0rd
  replication:
    enabled: false
  master:
    persistence:
      enabled: true
      storageClass: nfs-client
      existingClaim: db-pvc
      accessMode: ReadWriteMany
      size: 8Gi
  slave:
    replicas: 2
    persistence:
      enabled: false
      accessMode: ReadWriteMany
      size: 8Gi


service:
  type: NodePort
  port: 8080
  nodePort: 30000


persistence:
  enabled: true
  storageClass: nfs-client
  existingClaim: nextcloud-pvc
  accessMode: ReadWriteMany
  size: 8Gi


livenessProbe:
  enabled: false
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
  successThreshold: 1
readinessProbe:
  enabled: true
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
  successThreshold: 1
startupProbe:
  enabled: false
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 30
  successThreshold: 1


hpa:
  enabled: true
  cputhreshold: 60
  minPods: 1
  maxPods: 10
